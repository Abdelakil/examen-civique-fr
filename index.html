<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pr√©paration Examen Civique</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <div class="header-content">
        <h1>R√©publique Fran√ßaise</h1>
        <p>Pr√©paration CSP & Carte de R√©sident</p>
      </div>
      <button id="theme-toggle">üåô</button>
    </header>

    <main id="app">
      <section id="menu">
        <h2>Pr√©paration √† l'examen</h2>
        <div class="menu-layout">
          <div class="quiz-settings">
            <label for="card-type">Type de carte sollicit√©e :</label>
            <select id="card-type">
              <option value="CSP">Carte de S√©jour Pluriannuelle (CSP)</option>
              <option value="CR">Carte de R√©sident (CR)</option>
            </select>

            <label for="quiz-mode">Type de quiz :</label>
            <select id="quiz-mode">
              <option value="simulation">Simulation d'examen (40 questions)</option>
              <option value="theme">Entra√Ænement par th√®me</option>
            </select>

            <div id="timed-exam-container" style="margin-top: 15px;">
              <label for="timed-exam-choice">Examen chronom√©tr√© :</label>
              <select id="timed-exam-choice">
                <option value="no" selected>Non</option>
                <option value="yes">Oui (45 minutes)</option>
              </select>
            </div>

            <div id="mise-en-situation-container" style="margin-top: 15px;">
              <label for="mise-en-situation-choice">Questions "Mise en situation" (IA) :</label>
              <select id="mise-en-situation-choice">
                <option value="no" selected>Non</option>
                <option value="yes">Oui</option>
              </select>
            </div>

            <div id="api-key-container" style="display: none; margin-top: 15px;">
              <label for="api-key">Votre cl√© API Gemini :</label>
              <input type="password" id="api-key" placeholder="Entrez votre cl√© API" />
            </div>

            <div id="theme-selector-container" style="display: none; margin-top: 15px">
              <label for="theme-choice">Choisissez un th√®me :</label>
              <select id="theme-choice">
                <option value="bloc1_principes_valeurs">
                  Principes et valeurs de la R√©publique
                </option>
                <option value="bloc2_institutionnel_politique">
                  Syst√®me institutionnel et politique
                </option>
                <option value="bloc3_droits_et_devoirs">
                  Droits et devoirs
                </option>
                <option value="bloc4_histoire_geo_culture">
                  Histoire, g√©ographie et culture
                </option>
                <option value="bloc5_vivre_en_societe">
                  Vivre dans la soci√©t√© fran√ßaise
                </option>
              </select>

              <br />
              <label for="question-count">Nombre de questions :</label>
              <input type="number" id="question-count" value="10" min="1" max="50" />
            </div>

            <button onclick="initiateQuiz()" style="margin-top: 20px; display: block; width: 100%">
              Commencer
            </button>
          </div>
          <aside class="useful-links">
            <h3>Liens utiles</h3>
            <ul>
              <li><a href="https://formation-civique.interieur.gouv.fr/examen-civique/" target="_blank">Examen Civique - Site officiel</a></li>
              <li><a href="https://www.lefrancaisdesaffaires.fr/candidat/examen-civique/presentation/" target="_blank">Examen Civique - Inscription</a></li>
              <li><a href="https://www.immigration.interieur.gouv.fr/Integration-et-Acces-a-la-nationalite/La-nationalite-francaise/Le-livret-du-citoyen" target="_blank">Le livret du citoyen</a></li>
            </ul>
          </aside>
        </div>
      </section>

      <section id="loader" style="display: none;">
        <div class="spinner"></div>
        <p>G√©n√©ration des questions en cours...</p>
      </section>

<section id="quiz-container" style="display: none">
  <div class="quiz-layout">
    
<div class="quiz-main-content">
  <h3 id="question-text"></h3>
  
  <div id="hint-container" style="display: none;">
    <p id="hint-text"></p>
  </div>

  <div id="options-container"></div>
  
  <div class="navigation-controls">
      <button id="prev-btn" onclick="prevQuestion()">Pr√©c√©dent</button>
      <button id="hint-btn" onclick="toggleHint()">üí° Indice</button>
      <button id="next-btn" onclick="nextQuestion()">Suivant</button>
  </div>
</div>

    <aside class="quiz-sidebar">
      <table id="quiz-stats">
        <tbody>
          <tr>
            <th>Th√®me actuel</th>
            <td id="stat-theme">-</td>
          </tr>
          <tr>
            <th>Reste (th√®me)</th>
            <td id="stat-theme-progress">-</td>
          </tr>
          <tr>
            <th>Total restant</th>
            <td id="stat-total-left">-</td>
          </tr>
          <tr id="timer-row" style="display: none;">
            <th>Temps restant</th>
            <td id="stat-timer">-</td>
          </tr>
          <tr>
            <th>Correct</th>
            <td id="stat-correct-count" class="stat-correct">0</td>
          </tr>
          <tr>
            <th>Erreurs</th>
            <td id="stat-wrong-count" class="stat-wrong">0</td>
          </tr>
        </tbody>
      </table>
    </aside>

  </div>
</section>

      <section id="results" style="display: none">
        <h2>R√©sultat</h2>
        <p id="score-display"></p>
        <button onclick="location.reload()">Retour √† l'accueil</button>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
