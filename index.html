<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n-key="pageTitle">Pr√©paration Examen Civique</title>
    <link rel="stylesheet" href="style.css" />
    <meta name="google-site-verification" content="iwdARhQYsxTLYb9Mez_VJB0bDiQIwxO4g32A94bu5PM" />
  </head>
  <body>
    <header>
      <div class="header-content">
        <h1 data-i18n-key="headerTitle">R√©publique Fran√ßaise</h1>
        <p data-i18n-key="headerSubtitle">Pr√©paration CSP & Carte de R√©sident</p>
      </div>
      <div class="header-controls">
        <div class="lang-switcher">
          <button id="lang-fr" type="button" aria-label="Version fran√ßaise">FR</button>
          <button id="lang-en" type="button" aria-label="English version">EN</button>
        </div>
        <label class="theme-switch">
          <input type="checkbox" id="theme-toggle">
          <span class="slider round"></span>
        </label>
      </div>
    </header>

    <main id="app">
      <section id="menu">
        <h2 data-i18n-key="examPrepTitle">Pr√©paration √† l'examen</h2>
        <div class="menu-layout">
          <div class="quiz-settings">
            <label for="card-type" data-i18n-key="cardTypeLabel">Type de carte sollicit√©e :</label>
            <select id="card-type">
              <option value="CSP" data-i18n-key="cspOption">Carte de S√©jour Pluriannuelle (CSP)</option>
              <option value="CR" data-i18n-key="crOption">Carte de R√©sident (CR)</option>
            </select>

            <label for="quiz-mode" data-i18n-key="quizTypeLabel">Type de quiz :</label>
            <select id="quiz-mode">
              <option value="simulation" data-i18n-key="simulationOption">Simulation d'examen (40 questions)</option>
              <option value="theme" data-i18n-key="themeTrainingOption">Entra√Ænement par th√®me</option>
            </select>

            <div id="timed-exam-container">
              <label for="timed-exam-choice" data-i18n-key="timedExamLabel">Examen chronom√©tr√© :</label>
              <select id="timed-exam-choice">
                <option value="no" selected data-i18n-key="noOption">Non</option>
                <option value="yes" data-i18n-key="yesOption">Oui (45 minutes)</option>
              </select>
            </div>

            <div id="mise-en-situation-container">
              <label for="mise-en-situation-choice" data-i18n-key="scenarioQuestionsLabel">Questions "Mise en situation" (IA) :</label>
              <select id="mise-en-situation-choice">
                <option value="no" selected data-i18n-key="noOption">Non</option>
                <option value="yes" data-i18n-key="yesOption">Oui</option>
              </select>
            </div>

            <div id="api-key-container" class="hidden">
              <label for="api-key" data-i18n-key="geminiApiLabel">Votre cl√© API Gemini :</label>
              <input type="password" id="api-key" data-i18n-key-placeholder="geminiApiPlaceholder" placeholder="Entrez votre cl√© API" />
            </div>

            <div id="theme-selector-container" class="hidden">
              <label for="theme-choice" data-i18n-key="themeChoiceLabel">Choisissez un th√®me :</label>
              <select id="theme-choice">
                <option value="bloc1_principes_valeurs" data-i18n-key="theme1">Principes et valeurs de la R√©publique</option>
                <option value="bloc2_institutionnel_politique" data-i18n-key="theme2">Syst√®me institutionnel et politique</option>
                <option value="bloc3_droits_et_devoirs" data-i18n-key="theme3">Droits et devoirs</option>
                <option value="bloc4_histoire_geo_culture" data-i18n-key="theme4">Histoire, g√©ographie et culture</option>
                <option value="bloc5_vivre_en_societe" data-i18n-key="theme5">Vivre dans la soci√©t√© fran√ßaise</option>
              </select>

              <br />
              <label for="question-count" data-i18n-key="questionCountLabel">Nombre de questions :</label>
              <input type="number" id="question-count" value="10" min="1" max="50" />
            </div>

            <button onclick="initiateQuiz()" data-i18n-key="startButton">Commencer</button>
          </div>
          <aside class="useful-links">
            <h3 data-i18n-key="usefulLinksTitle">Liens utiles</h3>
            <ul>
              <li><a href="https://formation-civique.interieur.gouv.fr/examen-civique/" target="_blank" data-i18n-key="officialSiteLink">Examen Civique - Site officiel</a></li>
              <li><a href="https://www.lefrancaisdesaffaires.fr/candidat/examen-civique/presentation/" target="_blank" data-i18n-key="registrationLink">Examen Civique - Inscription</a></li>
              <li><a href="https://www.immigration.interieur.gouv.fr/Integration-et-Acces-a-la-nationalite/La-nationalite-francaise/Le-livret-du-citoyen" target="_blank" data-i18n-key="citizenBookletLink">Le livret du citoyen</a></li>
            </ul>
          </aside>
        </div>
      </section>

      <section id="loader" class="hidden">
        <div class="spinner"></div>
        <p data-i18n-key="generatingQuestions">G√©n√©ration des questions en cours...</p>
      </section>

<section id="quiz-container" class="hidden">
  <div class="quiz-layout">
    
<div class="quiz-main-content">
  <h3 id="question-text"></h3>
  
  <div id="hint-container" class="hidden">
    <p id="hint-text"></p>
  </div>

  <div id="options-container"></div>
  
  <div class="navigation-controls">
      <button id="prev-btn" onclick="prevQuestion()" data-i18n-key="previousButton">Pr√©c√©dent</button>
      <button id="hint-btn" onclick="toggleHint()" data-i18n-key="hintButton">üí° Indice</button>
      <button id="next-btn" onclick="nextQuestion()" data-i18n-key="nextButton">Suivant</button>
  </div>
</div>

    <aside class="quiz-sidebar">
      <table id="quiz-stats">
        <tbody>
          <tr>
            <th data-i18n-key="currentThemeLabel">Th√®me actuel</th>
            <td id="stat-theme">-</td>
          </tr>
          <tr>
            <th data-i18n-key="themeProgressLabel">Reste (th√®me)</th>
            <td id="stat-theme-progress">-</td>
          </tr>
          <tr>
            <th data-i18n-key="totalLeftLabel">Total restant</th>
            <td id="stat-total-left">-</td>
          </tr>
          <tr id="timer-row" class="hidden">
            <th data-i18n-key="timeRemainingLabel">Temps restant</th>
            <td id="stat-timer">-</td>
          </tr>
          <tr>
            <th data-i18n-key="correctLabel">Correct</th>
            <td id="stat-correct-count" class="stat-correct">0</td>
          </tr>
          <tr>
            <th data-i18n-key="errorsLabel">Erreurs</th>
            <td id="stat-wrong-count" class="stat-wrong">0</td>
          </tr>
        </tbody>
      </table>
    </aside>

  </div>
</section>

      <section id="results" class="hidden">
        <h2 data-i18n-key="resultTitle">R√©sultat</h2>
        <p id="score-display"></p>
        <button onclick="location.reload()" data-i18n-key="backToHomeButton">Retour √† l'accueil</button>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
